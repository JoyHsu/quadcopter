   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"stm32f4_discovery_lis302dl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	LIS302DLTimeout
  20              		.section	.data.LIS302DLTimeout,"aw",%progbits
  21              		.align	2
  24              	LIS302DLTimeout:
  25 0000 00100000 		.word	4096
  26              		.section	.text.LIS302DL_Init,"ax",%progbits
  27              		.align	2
  28              		.global	LIS302DL_Init
  29              		.thumb
  30              		.thumb_func
  32              	LIS302DL_Init:
  33              	.LFB110:
  34              		.file 1 "src/stm32f4_discovery_lis302dl.c"
   1:src/stm32f4_discovery_lis302dl.c **** /**
   2:src/stm32f4_discovery_lis302dl.c ****   ******************************************************************************
   3:src/stm32f4_discovery_lis302dl.c ****   * @file    stm32f4_discovery_lis302dl.c
   4:src/stm32f4_discovery_lis302dl.c ****   * @author  MCD Application Team
   5:src/stm32f4_discovery_lis302dl.c ****   * @version V1.1.0
   6:src/stm32f4_discovery_lis302dl.c ****   * @date    28-October-2011
   7:src/stm32f4_discovery_lis302dl.c ****   * @brief   This file provides a set of functions needed to manage the LIS302DL
   8:src/stm32f4_discovery_lis302dl.c ****   *          MEMS accelerometer available on STM32F4-Discovery Kit.
   9:src/stm32f4_discovery_lis302dl.c ****   ******************************************************************************
  10:src/stm32f4_discovery_lis302dl.c ****   * @attention
  11:src/stm32f4_discovery_lis302dl.c ****   *
  12:src/stm32f4_discovery_lis302dl.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  13:src/stm32f4_discovery_lis302dl.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  14:src/stm32f4_discovery_lis302dl.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  15:src/stm32f4_discovery_lis302dl.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  16:src/stm32f4_discovery_lis302dl.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  17:src/stm32f4_discovery_lis302dl.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  18:src/stm32f4_discovery_lis302dl.c ****   *
  19:src/stm32f4_discovery_lis302dl.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  20:src/stm32f4_discovery_lis302dl.c ****   ******************************************************************************  
  21:src/stm32f4_discovery_lis302dl.c ****   */
  22:src/stm32f4_discovery_lis302dl.c **** 
  23:src/stm32f4_discovery_lis302dl.c **** /* Includes ------------------------------------------------------------------*/
  24:src/stm32f4_discovery_lis302dl.c **** #include "stm32f4_discovery_lis302dl.h"
  25:src/stm32f4_discovery_lis302dl.c **** 
  26:src/stm32f4_discovery_lis302dl.c **** /** @addtogroup Utilities
  27:src/stm32f4_discovery_lis302dl.c ****   * @{
  28:src/stm32f4_discovery_lis302dl.c ****   */ 
  29:src/stm32f4_discovery_lis302dl.c **** 
  30:src/stm32f4_discovery_lis302dl.c **** /** @addtogroup STM32F4_DISCOVERY
  31:src/stm32f4_discovery_lis302dl.c ****   * @{
  32:src/stm32f4_discovery_lis302dl.c ****   */ 
  33:src/stm32f4_discovery_lis302dl.c **** 
  34:src/stm32f4_discovery_lis302dl.c **** /** @addtogroup STM32F4_DISCOVERY_LIS302DL
  35:src/stm32f4_discovery_lis302dl.c ****   * @{
  36:src/stm32f4_discovery_lis302dl.c ****   */
  37:src/stm32f4_discovery_lis302dl.c **** 
  38:src/stm32f4_discovery_lis302dl.c **** 
  39:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_TypesDefinitions
  40:src/stm32f4_discovery_lis302dl.c ****   * @{
  41:src/stm32f4_discovery_lis302dl.c ****   */
  42:src/stm32f4_discovery_lis302dl.c **** 
  43:src/stm32f4_discovery_lis302dl.c **** /**
  44:src/stm32f4_discovery_lis302dl.c ****   * @}
  45:src/stm32f4_discovery_lis302dl.c ****   */
  46:src/stm32f4_discovery_lis302dl.c **** 
  47:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_Defines
  48:src/stm32f4_discovery_lis302dl.c ****   * @{
  49:src/stm32f4_discovery_lis302dl.c ****   */
  50:src/stm32f4_discovery_lis302dl.c **** __IO uint32_t  LIS302DLTimeout = LIS302DL_FLAG_TIMEOUT;   
  51:src/stm32f4_discovery_lis302dl.c **** 
  52:src/stm32f4_discovery_lis302dl.c **** /* Read/Write command */
  53:src/stm32f4_discovery_lis302dl.c **** #define READWRITE_CMD              ((uint8_t)0x80) 
  54:src/stm32f4_discovery_lis302dl.c **** /* Multiple byte read/write command */ 
  55:src/stm32f4_discovery_lis302dl.c **** #define MULTIPLEBYTE_CMD           ((uint8_t)0x40)
  56:src/stm32f4_discovery_lis302dl.c **** /* Dummy Byte Send by the SPI Master device in order to generate the Clock to the Slave device */
  57:src/stm32f4_discovery_lis302dl.c **** #define DUMMY_BYTE                 ((uint8_t)0x00)
  58:src/stm32f4_discovery_lis302dl.c **** 
  59:src/stm32f4_discovery_lis302dl.c **** /**
  60:src/stm32f4_discovery_lis302dl.c ****   * @}
  61:src/stm32f4_discovery_lis302dl.c ****   */
  62:src/stm32f4_discovery_lis302dl.c **** 
  63:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_Macros
  64:src/stm32f4_discovery_lis302dl.c ****   * @{
  65:src/stm32f4_discovery_lis302dl.c ****   */
  66:src/stm32f4_discovery_lis302dl.c **** 
  67:src/stm32f4_discovery_lis302dl.c **** /**
  68:src/stm32f4_discovery_lis302dl.c ****   * @}
  69:src/stm32f4_discovery_lis302dl.c ****   */ 
  70:src/stm32f4_discovery_lis302dl.c ****   
  71:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_Variables
  72:src/stm32f4_discovery_lis302dl.c ****   * @{
  73:src/stm32f4_discovery_lis302dl.c ****   */ 
  74:src/stm32f4_discovery_lis302dl.c **** 
  75:src/stm32f4_discovery_lis302dl.c **** /**
  76:src/stm32f4_discovery_lis302dl.c ****   * @}
  77:src/stm32f4_discovery_lis302dl.c ****   */
  78:src/stm32f4_discovery_lis302dl.c **** 
  79:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_FunctionPrototypes
  80:src/stm32f4_discovery_lis302dl.c ****   * @{
  81:src/stm32f4_discovery_lis302dl.c ****   */
  82:src/stm32f4_discovery_lis302dl.c **** static uint8_t LIS302DL_SendByte(uint8_t byte);
  83:src/stm32f4_discovery_lis302dl.c **** static void LIS302DL_LowLevel_Init(void);
  84:src/stm32f4_discovery_lis302dl.c **** /**
  85:src/stm32f4_discovery_lis302dl.c ****   * @}
  86:src/stm32f4_discovery_lis302dl.c ****   */
  87:src/stm32f4_discovery_lis302dl.c **** 
  88:src/stm32f4_discovery_lis302dl.c **** /** @defgroup STM32F4_DISCOVERY_LIS302DL_Private_Functions
  89:src/stm32f4_discovery_lis302dl.c ****   * @{
  90:src/stm32f4_discovery_lis302dl.c ****   */
  91:src/stm32f4_discovery_lis302dl.c **** 
  92:src/stm32f4_discovery_lis302dl.c **** 
  93:src/stm32f4_discovery_lis302dl.c **** /**
  94:src/stm32f4_discovery_lis302dl.c ****   * @brief  Set LIS302DL Initialization.
  95:src/stm32f4_discovery_lis302dl.c ****   * @param  LIS302DL_Config_Struct: pointer to a LIS302DL_Config_TypeDef structure 
  96:src/stm32f4_discovery_lis302dl.c ****   *         that contains the configuration setting for the LIS302DL.
  97:src/stm32f4_discovery_lis302dl.c ****   * @retval None
  98:src/stm32f4_discovery_lis302dl.c ****   */
  99:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_Init(LIS302DL_InitTypeDef *LIS302DL_InitStruct)
 100:src/stm32f4_discovery_lis302dl.c **** {
  35              		.loc 1 100 0
  36              		.cfi_startproc
  37              		@ args = 0, pretend = 0, frame = 16
  38              		@ frame_needed = 1, uses_anonymous_args = 0
  39 0000 80B5     		push	{r7, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 8
  42              		.cfi_offset 14, -4
  43              		.cfi_offset 7, -8
  44 0002 84B0     		sub	sp, sp, #16
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 24
  47 0004 00AF     		add	r7, sp, #0
  48              	.LCFI2:
  49              		.cfi_def_cfa_register 7
  50 0006 7860     		str	r0, [r7, #4]
 101:src/stm32f4_discovery_lis302dl.c ****   uint8_t ctrl = 0x00;
  51              		.loc 1 101 0
  52 0008 4FF00003 		mov	r3, #0
  53 000c FB73     		strb	r3, [r7, #15]
 102:src/stm32f4_discovery_lis302dl.c ****   
 103:src/stm32f4_discovery_lis302dl.c ****   /* Configure the low level interface ---------------------------------------*/
 104:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_LowLevel_Init();
  54              		.loc 1 104 0
  55 000e FFF7FEFF 		bl	LIS302DL_LowLevel_Init
 105:src/stm32f4_discovery_lis302dl.c ****   
 106:src/stm32f4_discovery_lis302dl.c ****   /* Configure MEMS: data rate, power mode, full scale, self test and axes */
 107:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t) (LIS302DL_InitStruct->Output_DataRate | LIS302DL_InitStruct->Power_Mode | \
  56              		.loc 1 107 0
  57 0012 7B68     		ldr	r3, [r7, #4]
  58 0014 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
  59 0016 7B68     		ldr	r3, [r7, #4]
  60 0018 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  61 001a 1343     		orrs	r3, r3, r2
  62 001c DAB2     		uxtb	r2, r3
 108:src/stm32f4_discovery_lis302dl.c ****                     LIS302DL_InitStruct->Full_Scale | LIS302DL_InitStruct->Self_Test | \
  63              		.loc 1 108 0
  64 001e 7B68     		ldr	r3, [r7, #4]
  65 0020 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 107:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t) (LIS302DL_InitStruct->Output_DataRate | LIS302DL_InitStruct->Power_Mode | \
  66              		.loc 1 107 0
  67 0022 1343     		orrs	r3, r3, r2
  68 0024 DAB2     		uxtb	r2, r3
  69              		.loc 1 108 0
  70 0026 7B68     		ldr	r3, [r7, #4]
  71 0028 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 107:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t) (LIS302DL_InitStruct->Output_DataRate | LIS302DL_InitStruct->Power_Mode | \
  72              		.loc 1 107 0
  73 002a 1343     		orrs	r3, r3, r2
  74 002c DAB2     		uxtb	r2, r3
 109:src/stm32f4_discovery_lis302dl.c ****                     LIS302DL_InitStruct->Axes_Enable);
  75              		.loc 1 109 0
  76 002e 7B68     		ldr	r3, [r7, #4]
  77 0030 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 107:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t) (LIS302DL_InitStruct->Output_DataRate | LIS302DL_InitStruct->Power_Mode | \
  78              		.loc 1 107 0
  79 0032 1343     		orrs	r3, r3, r2
  80 0034 DBB2     		uxtb	r3, r3
  81 0036 FB73     		strb	r3, [r7, #15]
 110:src/stm32f4_discovery_lis302dl.c ****   
 111:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG1 regsister */
 112:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&ctrl, LIS302DL_CTRL_REG1_ADDR, 1);
  82              		.loc 1 112 0
  83 0038 07F10F03 		add	r3, r7, #15
  84 003c 1846     		mov	r0, r3
  85 003e 4FF02001 		mov	r1, #32
  86 0042 4FF00102 		mov	r2, #1
  87 0046 FFF7FEFF 		bl	LIS302DL_Write
 113:src/stm32f4_discovery_lis302dl.c **** }
  88              		.loc 1 113 0
  89 004a 07F11007 		add	r7, r7, #16
  90 004e BD46     		mov	sp, r7
  91 0050 80BD     		pop	{r7, pc}
  92              		.cfi_endproc
  93              	.LFE110:
  95 0052 00BF     		.section	.text.LIS302DL_FilterConfig,"ax",%progbits
  96              		.align	2
  97              		.global	LIS302DL_FilterConfig
  98              		.thumb
  99              		.thumb_func
 101              	LIS302DL_FilterConfig:
 102              	.LFB111:
 114:src/stm32f4_discovery_lis302dl.c **** 
 115:src/stm32f4_discovery_lis302dl.c **** /**
 116:src/stm32f4_discovery_lis302dl.c ****   * @brief  Set LIS302DL Internal High Pass Filter configuration.
 117:src/stm32f4_discovery_lis302dl.c ****   * @param  LIS302DL_Filter_ConfigTypeDef: pointer to a LIS302DL_FilterConfig_TypeDef 
 118:src/stm32f4_discovery_lis302dl.c ****   *         structure that contains the configuration setting for the LIS302DL Filter.
 119:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 120:src/stm32f4_discovery_lis302dl.c ****   */
 121:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_FilterConfig(LIS302DL_FilterConfigTypeDef *LIS302DL_FilterConfigStruct)
 122:src/stm32f4_discovery_lis302dl.c **** {
 103              		.loc 1 122 0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 16
 106              		@ frame_needed = 1, uses_anonymous_args = 0
 107 0000 80B5     		push	{r7, lr}
 108              	.LCFI3:
 109              		.cfi_def_cfa_offset 8
 110              		.cfi_offset 14, -4
 111              		.cfi_offset 7, -8
 112 0002 84B0     		sub	sp, sp, #16
 113              	.LCFI4:
 114              		.cfi_def_cfa_offset 24
 115 0004 00AF     		add	r7, sp, #0
 116              	.LCFI5:
 117              		.cfi_def_cfa_register 7
 118 0006 7860     		str	r0, [r7, #4]
 123:src/stm32f4_discovery_lis302dl.c ****   uint8_t ctrl = 0x00;
 119              		.loc 1 123 0
 120 0008 4FF00003 		mov	r3, #0
 121 000c FB73     		strb	r3, [r7, #15]
 124:src/stm32f4_discovery_lis302dl.c ****   
 125:src/stm32f4_discovery_lis302dl.c ****   /* Read CTRL_REG2 register */
 126:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&ctrl, LIS302DL_CTRL_REG2_ADDR, 1);
 122              		.loc 1 126 0
 123 000e 07F10F03 		add	r3, r7, #15
 124 0012 1846     		mov	r0, r3
 125 0014 4FF02101 		mov	r1, #33
 126 0018 4FF00102 		mov	r2, #1
 127 001c FFF7FEFF 		bl	LIS302DL_Read
 127:src/stm32f4_discovery_lis302dl.c ****   
 128:src/stm32f4_discovery_lis302dl.c ****   /* Clear high pass filter cut-off level, interrupt and data selection bits*/
 129:src/stm32f4_discovery_lis302dl.c ****   ctrl &= (uint8_t)~(LIS302DL_FILTEREDDATASELECTION_OUTPUTREGISTER | \
 128              		.loc 1 129 0
 129 0020 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 130 0022 23F02F03 		bic	r3, r3, #47
 131 0026 DBB2     		uxtb	r3, r3
 132 0028 FB73     		strb	r3, [r7, #15]
 130:src/stm32f4_discovery_lis302dl.c ****                      LIS302DL_HIGHPASSFILTER_LEVEL_3 | \
 131:src/stm32f4_discovery_lis302dl.c ****                      LIS302DL_HIGHPASSFILTERINTERRUPT_1_2);
 132:src/stm32f4_discovery_lis302dl.c ****   /* Configure MEMS high pass filter cut-off level, interrupt and data selection bits */           
 133:src/stm32f4_discovery_lis302dl.c ****   ctrl |= (uint8_t)(LIS302DL_FilterConfigStruct->HighPassFilter_Data_Selection | \
 133              		.loc 1 133 0
 134 002a 7B68     		ldr	r3, [r7, #4]
 135 002c 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 134:src/stm32f4_discovery_lis302dl.c ****                     LIS302DL_FilterConfigStruct->HighPassFilter_CutOff_Frequency | \
 136              		.loc 1 134 0
 137 002e 7B68     		ldr	r3, [r7, #4]
 138 0030 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 133:src/stm32f4_discovery_lis302dl.c ****   ctrl |= (uint8_t)(LIS302DL_FilterConfigStruct->HighPassFilter_Data_Selection | \
 139              		.loc 1 133 0
 140 0032 1343     		orrs	r3, r3, r2
 141 0034 DAB2     		uxtb	r2, r3
 135:src/stm32f4_discovery_lis302dl.c ****                     LIS302DL_FilterConfigStruct->HighPassFilter_Interrupt);
 142              		.loc 1 135 0
 143 0036 7B68     		ldr	r3, [r7, #4]
 144 0038 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 133:src/stm32f4_discovery_lis302dl.c ****   ctrl |= (uint8_t)(LIS302DL_FilterConfigStruct->HighPassFilter_Data_Selection | \
 145              		.loc 1 133 0
 146 003a 1343     		orrs	r3, r3, r2
 147 003c DAB2     		uxtb	r2, r3
 148 003e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 149 0040 1343     		orrs	r3, r3, r2
 150 0042 DBB2     		uxtb	r3, r3
 151 0044 FB73     		strb	r3, [r7, #15]
 136:src/stm32f4_discovery_lis302dl.c ****   
 137:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG2 register */
 138:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&ctrl, LIS302DL_CTRL_REG2_ADDR, 1);
 152              		.loc 1 138 0
 153 0046 07F10F03 		add	r3, r7, #15
 154 004a 1846     		mov	r0, r3
 155 004c 4FF02101 		mov	r1, #33
 156 0050 4FF00102 		mov	r2, #1
 157 0054 FFF7FEFF 		bl	LIS302DL_Write
 139:src/stm32f4_discovery_lis302dl.c **** }
 158              		.loc 1 139 0
 159 0058 07F11007 		add	r7, r7, #16
 160 005c BD46     		mov	sp, r7
 161 005e 80BD     		pop	{r7, pc}
 162              		.cfi_endproc
 163              	.LFE111:
 165              		.section	.text.LIS302DL_InterruptConfig,"ax",%progbits
 166              		.align	2
 167              		.global	LIS302DL_InterruptConfig
 168              		.thumb
 169              		.thumb_func
 171              	LIS302DL_InterruptConfig:
 172              	.LFB112:
 140:src/stm32f4_discovery_lis302dl.c **** 
 141:src/stm32f4_discovery_lis302dl.c **** /**
 142:src/stm32f4_discovery_lis302dl.c ****   * @brief Set LIS302DL Interrupt configuration
 143:src/stm32f4_discovery_lis302dl.c ****   * @param  LIS302DL_InterruptConfig_TypeDef: pointer to a LIS302DL_InterruptConfig_TypeDef 
 144:src/stm32f4_discovery_lis302dl.c ****   *         structure that contains the configuration setting for the LIS302DL Interrupt.
 145:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 146:src/stm32f4_discovery_lis302dl.c ****   */
 147:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_InterruptConfig(LIS302DL_InterruptConfigTypeDef *LIS302DL_IntConfigStruct)
 148:src/stm32f4_discovery_lis302dl.c **** {
 173              		.loc 1 148 0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 16
 176              		@ frame_needed = 1, uses_anonymous_args = 0
 177 0000 80B5     		push	{r7, lr}
 178              	.LCFI6:
 179              		.cfi_def_cfa_offset 8
 180              		.cfi_offset 14, -4
 181              		.cfi_offset 7, -8
 182 0002 84B0     		sub	sp, sp, #16
 183              	.LCFI7:
 184              		.cfi_def_cfa_offset 24
 185 0004 00AF     		add	r7, sp, #0
 186              	.LCFI8:
 187              		.cfi_def_cfa_register 7
 188 0006 7860     		str	r0, [r7, #4]
 149:src/stm32f4_discovery_lis302dl.c ****   uint8_t ctrl = 0x00;
 189              		.loc 1 149 0
 190 0008 4FF00003 		mov	r3, #0
 191 000c FB73     		strb	r3, [r7, #15]
 150:src/stm32f4_discovery_lis302dl.c ****   
 151:src/stm32f4_discovery_lis302dl.c ****   /* Read CLICK_CFG register */
 152:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&ctrl, LIS302DL_CLICK_CFG_REG_ADDR, 1);
 192              		.loc 1 152 0
 193 000e 07F10F03 		add	r3, r7, #15
 194 0012 1846     		mov	r0, r3
 195 0014 4FF03801 		mov	r1, #56
 196 0018 4FF00102 		mov	r2, #1
 197 001c FFF7FEFF 		bl	LIS302DL_Read
 153:src/stm32f4_discovery_lis302dl.c ****   
 154:src/stm32f4_discovery_lis302dl.c ****   /* Configure latch Interrupt request, click interrupts and double click interrupts */            
 155:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t)(LIS302DL_IntConfigStruct->Latch_Request| \
 198              		.loc 1 155 0
 199 0020 7B68     		ldr	r3, [r7, #4]
 200 0022 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 156:src/stm32f4_discovery_lis302dl.c ****                    LIS302DL_IntConfigStruct->SingleClick_Axes | \
 201              		.loc 1 156 0
 202 0024 7B68     		ldr	r3, [r7, #4]
 203 0026 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 155:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t)(LIS302DL_IntConfigStruct->Latch_Request| \
 204              		.loc 1 155 0
 205 0028 1343     		orrs	r3, r3, r2
 206 002a DAB2     		uxtb	r2, r3
 157:src/stm32f4_discovery_lis302dl.c ****                    LIS302DL_IntConfigStruct->DoubleClick_Axes);
 207              		.loc 1 157 0
 208 002c 7B68     		ldr	r3, [r7, #4]
 209 002e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 155:src/stm32f4_discovery_lis302dl.c ****   ctrl = (uint8_t)(LIS302DL_IntConfigStruct->Latch_Request| \
 210              		.loc 1 155 0
 211 0030 1343     		orrs	r3, r3, r2
 212 0032 DBB2     		uxtb	r3, r3
 213 0034 FB73     		strb	r3, [r7, #15]
 158:src/stm32f4_discovery_lis302dl.c ****   
 159:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CLICK_CFG register */
 160:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&ctrl, LIS302DL_CLICK_CFG_REG_ADDR, 1);
 214              		.loc 1 160 0
 215 0036 07F10F03 		add	r3, r7, #15
 216 003a 1846     		mov	r0, r3
 217 003c 4FF03801 		mov	r1, #56
 218 0040 4FF00102 		mov	r2, #1
 219 0044 FFF7FEFF 		bl	LIS302DL_Write
 161:src/stm32f4_discovery_lis302dl.c **** }
 220              		.loc 1 161 0
 221 0048 07F11007 		add	r7, r7, #16
 222 004c BD46     		mov	sp, r7
 223 004e 80BD     		pop	{r7, pc}
 224              		.cfi_endproc
 225              	.LFE112:
 227              		.section	.text.LIS302DL_LowpowerCmd,"ax",%progbits
 228              		.align	2
 229              		.global	LIS302DL_LowpowerCmd
 230              		.thumb
 231              		.thumb_func
 233              	LIS302DL_LowpowerCmd:
 234              	.LFB113:
 162:src/stm32f4_discovery_lis302dl.c **** 
 163:src/stm32f4_discovery_lis302dl.c **** /**
 164:src/stm32f4_discovery_lis302dl.c ****   * @brief  Change the lowpower mode for LIS302DL
 165:src/stm32f4_discovery_lis302dl.c ****   * @param  LowPowerMode: new state for the lowpower mode.
 166:src/stm32f4_discovery_lis302dl.c ****   *   This parameter can be one of the following values:
 167:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_LOWPOWERMODE_POWERDOWN: Power down mode
 168:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_LOWPOWERMODE_ACTIVE: Active mode  
 169:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 170:src/stm32f4_discovery_lis302dl.c ****   */
 171:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_LowpowerCmd(uint8_t LowPowerMode)
 172:src/stm32f4_discovery_lis302dl.c **** {
 235              		.loc 1 172 0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 16
 238              		@ frame_needed = 1, uses_anonymous_args = 0
 239 0000 80B5     		push	{r7, lr}
 240              	.LCFI9:
 241              		.cfi_def_cfa_offset 8
 242              		.cfi_offset 14, -4
 243              		.cfi_offset 7, -8
 244 0002 84B0     		sub	sp, sp, #16
 245              	.LCFI10:
 246              		.cfi_def_cfa_offset 24
 247 0004 00AF     		add	r7, sp, #0
 248              	.LCFI11:
 249              		.cfi_def_cfa_register 7
 250 0006 0346     		mov	r3, r0
 251 0008 FB71     		strb	r3, [r7, #7]
 173:src/stm32f4_discovery_lis302dl.c ****   uint8_t tmpreg;
 174:src/stm32f4_discovery_lis302dl.c ****   
 175:src/stm32f4_discovery_lis302dl.c ****   /* Read CTRL_REG1 register */
 176:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 252              		.loc 1 176 0
 253 000a 07F10F03 		add	r3, r7, #15
 254 000e 1846     		mov	r0, r3
 255 0010 4FF02001 		mov	r1, #32
 256 0014 4FF00102 		mov	r2, #1
 257 0018 FFF7FEFF 		bl	LIS302DL_Read
 177:src/stm32f4_discovery_lis302dl.c ****   
 178:src/stm32f4_discovery_lis302dl.c ****   /* Set new low power mode configuration */
 179:src/stm32f4_discovery_lis302dl.c ****   tmpreg &= (uint8_t)~LIS302DL_LOWPOWERMODE_ACTIVE;
 258              		.loc 1 179 0
 259 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 260 001e 23F04003 		bic	r3, r3, #64
 261 0022 DBB2     		uxtb	r3, r3
 262 0024 FB73     		strb	r3, [r7, #15]
 180:src/stm32f4_discovery_lis302dl.c ****   tmpreg |= LowPowerMode;
 263              		.loc 1 180 0
 264 0026 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 265 0028 FB79     		ldrb	r3, [r7, #7]
 266 002a 1343     		orrs	r3, r3, r2
 267 002c DBB2     		uxtb	r3, r3
 268 002e FB73     		strb	r3, [r7, #15]
 181:src/stm32f4_discovery_lis302dl.c ****   
 182:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG1 regsister */
 183:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 269              		.loc 1 183 0
 270 0030 07F10F03 		add	r3, r7, #15
 271 0034 1846     		mov	r0, r3
 272 0036 4FF02001 		mov	r1, #32
 273 003a 4FF00102 		mov	r2, #1
 274 003e FFF7FEFF 		bl	LIS302DL_Write
 184:src/stm32f4_discovery_lis302dl.c **** }
 275              		.loc 1 184 0
 276 0042 07F11007 		add	r7, r7, #16
 277 0046 BD46     		mov	sp, r7
 278 0048 80BD     		pop	{r7, pc}
 279              		.cfi_endproc
 280              	.LFE113:
 282 004a 00BF     		.section	.text.LIS302DL_DataRateCmd,"ax",%progbits
 283              		.align	2
 284              		.global	LIS302DL_DataRateCmd
 285              		.thumb
 286              		.thumb_func
 288              	LIS302DL_DataRateCmd:
 289              	.LFB114:
 185:src/stm32f4_discovery_lis302dl.c **** 
 186:src/stm32f4_discovery_lis302dl.c **** /**
 187:src/stm32f4_discovery_lis302dl.c ****   * @brief  Data Rate command 
 188:src/stm32f4_discovery_lis302dl.c ****   * @param  DataRateValue: Data rate value
 189:src/stm32f4_discovery_lis302dl.c ****   *   This parameter can be one of the following values:
 190:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_DATARATE_100: 100 Hz output data rate 
 191:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_DATARATE_400: 400 Hz output data rate    
 192:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 193:src/stm32f4_discovery_lis302dl.c ****   */
 194:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_DataRateCmd(uint8_t DataRateValue)
 195:src/stm32f4_discovery_lis302dl.c **** {
 290              		.loc 1 195 0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 16
 293              		@ frame_needed = 1, uses_anonymous_args = 0
 294 0000 80B5     		push	{r7, lr}
 295              	.LCFI12:
 296              		.cfi_def_cfa_offset 8
 297              		.cfi_offset 14, -4
 298              		.cfi_offset 7, -8
 299 0002 84B0     		sub	sp, sp, #16
 300              	.LCFI13:
 301              		.cfi_def_cfa_offset 24
 302 0004 00AF     		add	r7, sp, #0
 303              	.LCFI14:
 304              		.cfi_def_cfa_register 7
 305 0006 0346     		mov	r3, r0
 306 0008 FB71     		strb	r3, [r7, #7]
 196:src/stm32f4_discovery_lis302dl.c ****   uint8_t tmpreg;
 197:src/stm32f4_discovery_lis302dl.c ****   
 198:src/stm32f4_discovery_lis302dl.c ****   /* Read CTRL_REG1 register */
 199:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 307              		.loc 1 199 0
 308 000a 07F10F03 		add	r3, r7, #15
 309 000e 1846     		mov	r0, r3
 310 0010 4FF02001 		mov	r1, #32
 311 0014 4FF00102 		mov	r2, #1
 312 0018 FFF7FEFF 		bl	LIS302DL_Read
 200:src/stm32f4_discovery_lis302dl.c ****   
 201:src/stm32f4_discovery_lis302dl.c ****   /* Set new Data rate configuration */
 202:src/stm32f4_discovery_lis302dl.c ****   tmpreg &= (uint8_t)~LIS302DL_DATARATE_400;
 313              		.loc 1 202 0
 314 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 315 001e 03F07F03 		and	r3, r3, #127
 316 0022 DBB2     		uxtb	r3, r3
 317 0024 FB73     		strb	r3, [r7, #15]
 203:src/stm32f4_discovery_lis302dl.c ****   tmpreg |= DataRateValue;
 318              		.loc 1 203 0
 319 0026 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 320 0028 FB79     		ldrb	r3, [r7, #7]
 321 002a 1343     		orrs	r3, r3, r2
 322 002c DBB2     		uxtb	r3, r3
 323 002e FB73     		strb	r3, [r7, #15]
 204:src/stm32f4_discovery_lis302dl.c ****   
 205:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG1 regsister */
 206:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 324              		.loc 1 206 0
 325 0030 07F10F03 		add	r3, r7, #15
 326 0034 1846     		mov	r0, r3
 327 0036 4FF02001 		mov	r1, #32
 328 003a 4FF00102 		mov	r2, #1
 329 003e FFF7FEFF 		bl	LIS302DL_Write
 207:src/stm32f4_discovery_lis302dl.c **** }
 330              		.loc 1 207 0
 331 0042 07F11007 		add	r7, r7, #16
 332 0046 BD46     		mov	sp, r7
 333 0048 80BD     		pop	{r7, pc}
 334              		.cfi_endproc
 335              	.LFE114:
 337 004a 00BF     		.section	.text.LIS302DL_FullScaleCmd,"ax",%progbits
 338              		.align	2
 339              		.global	LIS302DL_FullScaleCmd
 340              		.thumb
 341              		.thumb_func
 343              	LIS302DL_FullScaleCmd:
 344              	.LFB115:
 208:src/stm32f4_discovery_lis302dl.c **** 
 209:src/stm32f4_discovery_lis302dl.c **** /**
 210:src/stm32f4_discovery_lis302dl.c ****   * @brief  Change the Full Scale of LIS302DL
 211:src/stm32f4_discovery_lis302dl.c ****   * @param  FS_value: new full scale value. 
 212:src/stm32f4_discovery_lis302dl.c ****   *   This parameter can be one of the following values:
 213:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_FULLSCALE_2_3: +-2.3g
 214:src/stm32f4_discovery_lis302dl.c ****   *     @arg LIS302DL_FULLSCALE_9_2: +-9.2g   
 215:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 216:src/stm32f4_discovery_lis302dl.c ****   */
 217:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_FullScaleCmd(uint8_t FS_value)
 218:src/stm32f4_discovery_lis302dl.c **** {
 345              		.loc 1 218 0
 346              		.cfi_startproc
 347              		@ args = 0, pretend = 0, frame = 16
 348              		@ frame_needed = 1, uses_anonymous_args = 0
 349 0000 80B5     		push	{r7, lr}
 350              	.LCFI15:
 351              		.cfi_def_cfa_offset 8
 352              		.cfi_offset 14, -4
 353              		.cfi_offset 7, -8
 354 0002 84B0     		sub	sp, sp, #16
 355              	.LCFI16:
 356              		.cfi_def_cfa_offset 24
 357 0004 00AF     		add	r7, sp, #0
 358              	.LCFI17:
 359              		.cfi_def_cfa_register 7
 360 0006 0346     		mov	r3, r0
 361 0008 FB71     		strb	r3, [r7, #7]
 219:src/stm32f4_discovery_lis302dl.c ****   uint8_t tmpreg;
 220:src/stm32f4_discovery_lis302dl.c ****   
 221:src/stm32f4_discovery_lis302dl.c ****   /* Read CTRL_REG1 register */
 222:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 362              		.loc 1 222 0
 363 000a 07F10F03 		add	r3, r7, #15
 364 000e 1846     		mov	r0, r3
 365 0010 4FF02001 		mov	r1, #32
 366 0014 4FF00102 		mov	r2, #1
 367 0018 FFF7FEFF 		bl	LIS302DL_Read
 223:src/stm32f4_discovery_lis302dl.c ****   
 224:src/stm32f4_discovery_lis302dl.c ****   /* Set new full scale configuration */
 225:src/stm32f4_discovery_lis302dl.c ****   tmpreg &= (uint8_t)~LIS302DL_FULLSCALE_9_2;
 368              		.loc 1 225 0
 369 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 370 001e 23F02003 		bic	r3, r3, #32
 371 0022 DBB2     		uxtb	r3, r3
 372 0024 FB73     		strb	r3, [r7, #15]
 226:src/stm32f4_discovery_lis302dl.c ****   tmpreg |= FS_value;
 373              		.loc 1 226 0
 374 0026 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 375 0028 FB79     		ldrb	r3, [r7, #7]
 376 002a 1343     		orrs	r3, r3, r2
 377 002c DBB2     		uxtb	r3, r3
 378 002e FB73     		strb	r3, [r7, #15]
 227:src/stm32f4_discovery_lis302dl.c ****   
 228:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG1 regsister */
 229:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&tmpreg, LIS302DL_CTRL_REG1_ADDR, 1);
 379              		.loc 1 229 0
 380 0030 07F10F03 		add	r3, r7, #15
 381 0034 1846     		mov	r0, r3
 382 0036 4FF02001 		mov	r1, #32
 383 003a 4FF00102 		mov	r2, #1
 384 003e FFF7FEFF 		bl	LIS302DL_Write
 230:src/stm32f4_discovery_lis302dl.c **** }
 385              		.loc 1 230 0
 386 0042 07F11007 		add	r7, r7, #16
 387 0046 BD46     		mov	sp, r7
 388 0048 80BD     		pop	{r7, pc}
 389              		.cfi_endproc
 390              	.LFE115:
 392 004a 00BF     		.section	.text.LIS302DL_RebootCmd,"ax",%progbits
 393              		.align	2
 394              		.global	LIS302DL_RebootCmd
 395              		.thumb
 396              		.thumb_func
 398              	LIS302DL_RebootCmd:
 399              	.LFB116:
 231:src/stm32f4_discovery_lis302dl.c **** 
 232:src/stm32f4_discovery_lis302dl.c **** /**
 233:src/stm32f4_discovery_lis302dl.c ****   * @brief  Reboot memory content of LIS302DL
 234:src/stm32f4_discovery_lis302dl.c ****   * @param  None
 235:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 236:src/stm32f4_discovery_lis302dl.c ****   */
 237:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_RebootCmd(void)
 238:src/stm32f4_discovery_lis302dl.c **** {
 400              		.loc 1 238 0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 8
 403              		@ frame_needed = 1, uses_anonymous_args = 0
 404 0000 80B5     		push	{r7, lr}
 405              	.LCFI18:
 406              		.cfi_def_cfa_offset 8
 407              		.cfi_offset 14, -4
 408              		.cfi_offset 7, -8
 409 0002 82B0     		sub	sp, sp, #8
 410              	.LCFI19:
 411              		.cfi_def_cfa_offset 16
 412 0004 00AF     		add	r7, sp, #0
 413              	.LCFI20:
 414              		.cfi_def_cfa_register 7
 239:src/stm32f4_discovery_lis302dl.c ****   uint8_t tmpreg;
 240:src/stm32f4_discovery_lis302dl.c ****   /* Read CTRL_REG2 register */
 241:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&tmpreg, LIS302DL_CTRL_REG2_ADDR, 1);
 415              		.loc 1 241 0
 416 0006 07F10703 		add	r3, r7, #7
 417 000a 1846     		mov	r0, r3
 418 000c 4FF02101 		mov	r1, #33
 419 0010 4FF00102 		mov	r2, #1
 420 0014 FFF7FEFF 		bl	LIS302DL_Read
 242:src/stm32f4_discovery_lis302dl.c ****   
 243:src/stm32f4_discovery_lis302dl.c ****   /* Enable or Disable the reboot memory */
 244:src/stm32f4_discovery_lis302dl.c ****   tmpreg |= LIS302DL_BOOT_REBOOTMEMORY;
 421              		.loc 1 244 0
 422 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 423 001a 43F04003 		orr	r3, r3, #64
 424 001e DBB2     		uxtb	r3, r3
 425 0020 FB71     		strb	r3, [r7, #7]
 245:src/stm32f4_discovery_lis302dl.c ****   
 246:src/stm32f4_discovery_lis302dl.c ****   /* Write value to MEMS CTRL_REG2 regsister */
 247:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Write(&tmpreg, LIS302DL_CTRL_REG2_ADDR, 1);
 426              		.loc 1 247 0
 427 0022 07F10703 		add	r3, r7, #7
 428 0026 1846     		mov	r0, r3
 429 0028 4FF02101 		mov	r1, #33
 430 002c 4FF00102 		mov	r2, #1
 431 0030 FFF7FEFF 		bl	LIS302DL_Write
 248:src/stm32f4_discovery_lis302dl.c **** }
 432              		.loc 1 248 0
 433 0034 07F10807 		add	r7, r7, #8
 434 0038 BD46     		mov	sp, r7
 435 003a 80BD     		pop	{r7, pc}
 436              		.cfi_endproc
 437              	.LFE116:
 439              		.section	.text.LIS302DL_Write,"ax",%progbits
 440              		.align	2
 441              		.global	LIS302DL_Write
 442              		.thumb
 443              		.thumb_func
 445              	LIS302DL_Write:
 446              	.LFB117:
 249:src/stm32f4_discovery_lis302dl.c **** 
 250:src/stm32f4_discovery_lis302dl.c **** /**
 251:src/stm32f4_discovery_lis302dl.c ****   * @brief  Writes one byte to the LIS302DL.
 252:src/stm32f4_discovery_lis302dl.c ****   * @param  pBuffer : pointer to the buffer  containing the data to be written to the LIS302DL.
 253:src/stm32f4_discovery_lis302dl.c ****   * @param  WriteAddr : LIS302DL's internal address to write to.
 254:src/stm32f4_discovery_lis302dl.c ****   * @param  NumByteToWrite: Number of bytes to write.
 255:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 256:src/stm32f4_discovery_lis302dl.c ****   */
 257:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_Write(uint8_t* pBuffer, uint8_t WriteAddr, uint16_t NumByteToWrite)
 258:src/stm32f4_discovery_lis302dl.c **** {
 447              		.loc 1 258 0
 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 8
 450              		@ frame_needed = 1, uses_anonymous_args = 0
 451 0000 80B5     		push	{r7, lr}
 452              	.LCFI21:
 453              		.cfi_def_cfa_offset 8
 454              		.cfi_offset 14, -4
 455              		.cfi_offset 7, -8
 456 0002 82B0     		sub	sp, sp, #8
 457              	.LCFI22:
 458              		.cfi_def_cfa_offset 16
 459 0004 00AF     		add	r7, sp, #0
 460              	.LCFI23:
 461              		.cfi_def_cfa_register 7
 462 0006 7860     		str	r0, [r7, #4]
 463 0008 1346     		mov	r3, r2
 464 000a 0A46     		mov	r2, r1
 465 000c FA70     		strb	r2, [r7, #3]
 466 000e 3B80     		strh	r3, [r7, #0]	@ movhi
 259:src/stm32f4_discovery_lis302dl.c ****   /* Configure the MS bit: 
 260:src/stm32f4_discovery_lis302dl.c ****        - When 0, the address will remain unchanged in multiple read/write commands.
 261:src/stm32f4_discovery_lis302dl.c ****        - When 1, the address will be auto incremented in multiple read/write commands.
 262:src/stm32f4_discovery_lis302dl.c ****   */
 263:src/stm32f4_discovery_lis302dl.c ****   if(NumByteToWrite > 0x01)
 467              		.loc 1 263 0
 468 0010 3B88     		ldrh	r3, [r7, #0]
 469 0012 012B     		cmp	r3, #1
 470 0014 03D9     		bls	.L9
 264:src/stm32f4_discovery_lis302dl.c ****   {
 265:src/stm32f4_discovery_lis302dl.c ****     WriteAddr |= (uint8_t)MULTIPLEBYTE_CMD;
 471              		.loc 1 265 0
 472 0016 FB78     		ldrb	r3, [r7, #3]
 473 0018 43F04003 		orr	r3, r3, #64
 474 001c FB70     		strb	r3, [r7, #3]
 475              	.L9:
 266:src/stm32f4_discovery_lis302dl.c ****   }
 267:src/stm32f4_discovery_lis302dl.c ****   /* Set chip select Low at the start of the transmission */
 268:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_CS_LOW();
 476              		.loc 1 268 0
 477 001e 4FF48050 		mov	r0, #4096
 478 0022 C4F20200 		movt	r0, 16386
 479 0026 4FF00801 		mov	r1, #8
 480 002a FFF7FEFF 		bl	GPIO_ResetBits
 269:src/stm32f4_discovery_lis302dl.c ****   
 270:src/stm32f4_discovery_lis302dl.c ****   /* Send the Address of the indexed register */
 271:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_SendByte(WriteAddr);
 481              		.loc 1 271 0
 482 002e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 483 0030 1846     		mov	r0, r3
 484 0032 FFF7FEFF 		bl	LIS302DL_SendByte
 272:src/stm32f4_discovery_lis302dl.c ****   /* Send the data that will be written into the device (MSB First) */
 273:src/stm32f4_discovery_lis302dl.c ****   while(NumByteToWrite >= 0x01)
 485              		.loc 1 273 0
 486 0036 0CE0     		b	.L10
 487              	.L11:
 274:src/stm32f4_discovery_lis302dl.c ****   {
 275:src/stm32f4_discovery_lis302dl.c ****     LIS302DL_SendByte(*pBuffer);
 488              		.loc 1 275 0
 489 0038 7B68     		ldr	r3, [r7, #4]
 490 003a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 491 003c 1846     		mov	r0, r3
 492 003e FFF7FEFF 		bl	LIS302DL_SendByte
 276:src/stm32f4_discovery_lis302dl.c ****     NumByteToWrite--;
 493              		.loc 1 276 0
 494 0042 3B88     		ldrh	r3, [r7, #0]	@ movhi
 495 0044 03F1FF33 		add	r3, r3, #-1
 496 0048 3B80     		strh	r3, [r7, #0]	@ movhi
 277:src/stm32f4_discovery_lis302dl.c ****     pBuffer++;
 497              		.loc 1 277 0
 498 004a 7B68     		ldr	r3, [r7, #4]
 499 004c 03F10103 		add	r3, r3, #1
 500 0050 7B60     		str	r3, [r7, #4]
 501              	.L10:
 273:src/stm32f4_discovery_lis302dl.c ****   while(NumByteToWrite >= 0x01)
 502              		.loc 1 273 0 discriminator 1
 503 0052 3B88     		ldrh	r3, [r7, #0]
 504 0054 002B     		cmp	r3, #0
 505 0056 EFD1     		bne	.L11
 278:src/stm32f4_discovery_lis302dl.c ****   }
 279:src/stm32f4_discovery_lis302dl.c ****   
 280:src/stm32f4_discovery_lis302dl.c ****   /* Set chip select High at the end of the transmission */ 
 281:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_CS_HIGH();
 506              		.loc 1 281 0
 507 0058 4FF48050 		mov	r0, #4096
 508 005c C4F20200 		movt	r0, 16386
 509 0060 4FF00801 		mov	r1, #8
 510 0064 FFF7FEFF 		bl	GPIO_SetBits
 282:src/stm32f4_discovery_lis302dl.c **** }
 511              		.loc 1 282 0
 512 0068 07F10807 		add	r7, r7, #8
 513 006c BD46     		mov	sp, r7
 514 006e 80BD     		pop	{r7, pc}
 515              		.cfi_endproc
 516              	.LFE117:
 518              		.section	.text.LIS302DL_Read,"ax",%progbits
 519              		.align	2
 520              		.global	LIS302DL_Read
 521              		.thumb
 522              		.thumb_func
 524              	LIS302DL_Read:
 525              	.LFB118:
 283:src/stm32f4_discovery_lis302dl.c **** 
 284:src/stm32f4_discovery_lis302dl.c **** /**
 285:src/stm32f4_discovery_lis302dl.c ****   * @brief  Reads a block of data from the LIS302DL.
 286:src/stm32f4_discovery_lis302dl.c ****   * @param  pBuffer : pointer to the buffer that receives the data read from the LIS302DL.
 287:src/stm32f4_discovery_lis302dl.c ****   * @param  ReadAddr : LIS302DL's internal address to read from.
 288:src/stm32f4_discovery_lis302dl.c ****   * @param  NumByteToRead : number of bytes to read from the LIS302DL.
 289:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 290:src/stm32f4_discovery_lis302dl.c ****   */
 291:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_Read(uint8_t* pBuffer, uint8_t ReadAddr, uint16_t NumByteToRead)
 292:src/stm32f4_discovery_lis302dl.c **** {  
 526              		.loc 1 292 0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 8
 529              		@ frame_needed = 1, uses_anonymous_args = 0
 530 0000 80B5     		push	{r7, lr}
 531              	.LCFI24:
 532              		.cfi_def_cfa_offset 8
 533              		.cfi_offset 14, -4
 534              		.cfi_offset 7, -8
 535 0002 82B0     		sub	sp, sp, #8
 536              	.LCFI25:
 537              		.cfi_def_cfa_offset 16
 538 0004 00AF     		add	r7, sp, #0
 539              	.LCFI26:
 540              		.cfi_def_cfa_register 7
 541 0006 7860     		str	r0, [r7, #4]
 542 0008 1346     		mov	r3, r2
 543 000a 0A46     		mov	r2, r1
 544 000c FA70     		strb	r2, [r7, #3]
 545 000e 3B80     		strh	r3, [r7, #0]	@ movhi
 293:src/stm32f4_discovery_lis302dl.c ****   if(NumByteToRead > 0x01)
 546              		.loc 1 293 0
 547 0010 3B88     		ldrh	r3, [r7, #0]
 548 0012 012B     		cmp	r3, #1
 549 0014 04D9     		bls	.L13
 294:src/stm32f4_discovery_lis302dl.c ****   {
 295:src/stm32f4_discovery_lis302dl.c ****     ReadAddr |= (uint8_t)(READWRITE_CMD | MULTIPLEBYTE_CMD);
 550              		.loc 1 295 0
 551 0016 FB78     		ldrb	r3, [r7, #3]
 552 0018 63F03F03 		orn	r3, r3, #63
 553 001c FB70     		strb	r3, [r7, #3]
 554 001e 03E0     		b	.L14
 555              	.L13:
 296:src/stm32f4_discovery_lis302dl.c ****   }
 297:src/stm32f4_discovery_lis302dl.c ****   else
 298:src/stm32f4_discovery_lis302dl.c ****   {
 299:src/stm32f4_discovery_lis302dl.c ****     ReadAddr |= (uint8_t)READWRITE_CMD;
 556              		.loc 1 299 0
 557 0020 FB78     		ldrb	r3, [r7, #3]
 558 0022 63F07F03 		orn	r3, r3, #127
 559 0026 FB70     		strb	r3, [r7, #3]
 560              	.L14:
 300:src/stm32f4_discovery_lis302dl.c ****   }
 301:src/stm32f4_discovery_lis302dl.c ****   /* Set chip select Low at the start of the transmission */
 302:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_CS_LOW();
 561              		.loc 1 302 0
 562 0028 4FF48050 		mov	r0, #4096
 563 002c C4F20200 		movt	r0, 16386
 564 0030 4FF00801 		mov	r1, #8
 565 0034 FFF7FEFF 		bl	GPIO_ResetBits
 303:src/stm32f4_discovery_lis302dl.c ****   
 304:src/stm32f4_discovery_lis302dl.c ****   /* Send the Address of the indexed register */
 305:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_SendByte(ReadAddr);
 566              		.loc 1 305 0
 567 0038 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 568 003a 1846     		mov	r0, r3
 569 003c FFF7FEFF 		bl	LIS302DL_SendByte
 306:src/stm32f4_discovery_lis302dl.c ****   
 307:src/stm32f4_discovery_lis302dl.c ****   /* Receive the data that will be read from the device (MSB First) */
 308:src/stm32f4_discovery_lis302dl.c ****   while(NumByteToRead > 0x00)
 570              		.loc 1 308 0
 571 0040 0FE0     		b	.L15
 572              	.L16:
 309:src/stm32f4_discovery_lis302dl.c ****   {
 310:src/stm32f4_discovery_lis302dl.c ****     /* Send dummy byte (0x00) to generate the SPI clock to LIS302DL (Slave device) */
 311:src/stm32f4_discovery_lis302dl.c ****     *pBuffer = LIS302DL_SendByte(DUMMY_BYTE);
 573              		.loc 1 311 0
 574 0042 4FF00000 		mov	r0, #0
 575 0046 FFF7FEFF 		bl	LIS302DL_SendByte
 576 004a 0346     		mov	r3, r0
 577 004c 1A46     		mov	r2, r3
 578 004e 7B68     		ldr	r3, [r7, #4]
 579 0050 1A70     		strb	r2, [r3, #0]
 312:src/stm32f4_discovery_lis302dl.c ****     NumByteToRead--;
 580              		.loc 1 312 0
 581 0052 3B88     		ldrh	r3, [r7, #0]	@ movhi
 582 0054 03F1FF33 		add	r3, r3, #-1
 583 0058 3B80     		strh	r3, [r7, #0]	@ movhi
 313:src/stm32f4_discovery_lis302dl.c ****     pBuffer++;
 584              		.loc 1 313 0
 585 005a 7B68     		ldr	r3, [r7, #4]
 586 005c 03F10103 		add	r3, r3, #1
 587 0060 7B60     		str	r3, [r7, #4]
 588              	.L15:
 308:src/stm32f4_discovery_lis302dl.c ****   while(NumByteToRead > 0x00)
 589              		.loc 1 308 0 discriminator 1
 590 0062 3B88     		ldrh	r3, [r7, #0]
 591 0064 002B     		cmp	r3, #0
 592 0066 ECD1     		bne	.L16
 314:src/stm32f4_discovery_lis302dl.c ****   }
 315:src/stm32f4_discovery_lis302dl.c ****   
 316:src/stm32f4_discovery_lis302dl.c ****   /* Set chip select High at the end of the transmission */ 
 317:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_CS_HIGH();
 593              		.loc 1 317 0
 594 0068 4FF48050 		mov	r0, #4096
 595 006c C4F20200 		movt	r0, 16386
 596 0070 4FF00801 		mov	r1, #8
 597 0074 FFF7FEFF 		bl	GPIO_SetBits
 318:src/stm32f4_discovery_lis302dl.c **** }
 598              		.loc 1 318 0
 599 0078 07F10807 		add	r7, r7, #8
 600 007c BD46     		mov	sp, r7
 601 007e 80BD     		pop	{r7, pc}
 602              		.cfi_endproc
 603              	.LFE118:
 605              		.section	.text.LIS302DL_ReadACC,"ax",%progbits
 606              		.align	2
 607              		.global	LIS302DL_ReadACC
 608              		.thumb
 609              		.thumb_func
 611              	LIS302DL_ReadACC:
 612              	.LFB119:
 319:src/stm32f4_discovery_lis302dl.c **** 
 320:src/stm32f4_discovery_lis302dl.c **** /**
 321:src/stm32f4_discovery_lis302dl.c ****   * @brief  Read LIS302DL output register, and calculate the acceleration 
 322:src/stm32f4_discovery_lis302dl.c ****   *         ACC[mg]=SENSITIVITY* (out_h*256+out_l)/16 (12 bit rappresentation)
 323:src/stm32f4_discovery_lis302dl.c ****   * @param  s16 buffer to store data
 324:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 325:src/stm32f4_discovery_lis302dl.c ****   */
 326:src/stm32f4_discovery_lis302dl.c **** void LIS302DL_ReadACC(int32_t* out)
 327:src/stm32f4_discovery_lis302dl.c **** {
 613              		.loc 1 327 0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 24
 616              		@ frame_needed = 1, uses_anonymous_args = 0
 617 0000 80B5     		push	{r7, lr}
 618              	.LCFI27:
 619              		.cfi_def_cfa_offset 8
 620              		.cfi_offset 14, -4
 621              		.cfi_offset 7, -8
 622 0002 86B0     		sub	sp, sp, #24
 623              	.LCFI28:
 624              		.cfi_def_cfa_offset 32
 625 0004 00AF     		add	r7, sp, #0
 626              	.LCFI29:
 627              		.cfi_def_cfa_register 7
 628 0006 7860     		str	r0, [r7, #4]
 328:src/stm32f4_discovery_lis302dl.c ****   uint8_t buffer[6];
 329:src/stm32f4_discovery_lis302dl.c ****   uint8_t crtl, i = 0x00;
 629              		.loc 1 329 0
 630 0008 4FF00003 		mov	r3, #0
 631 000c FB75     		strb	r3, [r7, #23]
 330:src/stm32f4_discovery_lis302dl.c ****    
 331:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(&crtl, LIS302DL_CTRL_REG1_ADDR, 1);  
 632              		.loc 1 331 0
 633 000e 07F10F03 		add	r3, r7, #15
 634 0012 1846     		mov	r0, r3
 635 0014 4FF02001 		mov	r1, #32
 636 0018 4FF00102 		mov	r2, #1
 637 001c FFF7FEFF 		bl	LIS302DL_Read
 332:src/stm32f4_discovery_lis302dl.c ****   LIS302DL_Read(buffer, LIS302DL_OUT_X_ADDR, 6);
 638              		.loc 1 332 0
 639 0020 07F11003 		add	r3, r7, #16
 640 0024 1846     		mov	r0, r3
 641 0026 4FF02901 		mov	r1, #41
 642 002a 4FF00602 		mov	r2, #6
 643 002e FFF7FEFF 		bl	LIS302DL_Read
 333:src/stm32f4_discovery_lis302dl.c ****   
 334:src/stm32f4_discovery_lis302dl.c ****   switch(crtl & 0x20) 
 644              		.loc 1 334 0
 645 0032 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 646 0034 03F02003 		and	r3, r3, #32
 647 0038 002B     		cmp	r3, #0
 648 003a 02D0     		beq	.L19
 649 003c 202B     		cmp	r3, #32
 650 003e 23D0     		beq	.L20
 651 0040 45E0     		b	.L26
 652              	.L19:
 335:src/stm32f4_discovery_lis302dl.c ****     {
 336:src/stm32f4_discovery_lis302dl.c ****     /* FS bit = 0 ==> Sensitivity typical value = 18milligals/digit*/ 
 337:src/stm32f4_discovery_lis302dl.c ****     case 0x00:
 338:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 653              		.loc 1 338 0
 654 0042 4FF00003 		mov	r3, #0
 655 0046 FB75     		strb	r3, [r7, #23]
 656 0048 1AE0     		b	.L21
 657              	.L22:
 339:src/stm32f4_discovery_lis302dl.c ****       {
 340:src/stm32f4_discovery_lis302dl.c ****         *out =(int32_t)(LIS302DL_SENSITIVITY_2_3G *  (int8_t)buffer[2*i]);
 658              		.loc 1 340 0 discriminator 2
 659 004a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 660 004c 4FEA4303 		lsl	r3, r3, #1
 661 0050 07F11802 		add	r2, r7, #24
 662 0054 D318     		adds	r3, r2, r3
 663 0056 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 664 005a DBB2     		uxtb	r3, r3
 665 005c 5AB2     		sxtb	r2, r3
 666 005e 1346     		mov	r3, r2
 667 0060 4FEAC303 		lsl	r3, r3, #3
 668 0064 9B18     		adds	r3, r3, r2
 669 0066 4FEA4303 		lsl	r3, r3, #1
 670 006a 1A46     		mov	r2, r3
 671 006c 7B68     		ldr	r3, [r7, #4]
 672 006e 1A60     		str	r2, [r3, #0]
 341:src/stm32f4_discovery_lis302dl.c ****         out++;
 673              		.loc 1 341 0 discriminator 2
 674 0070 7B68     		ldr	r3, [r7, #4]
 675 0072 03F10403 		add	r3, r3, #4
 676 0076 7B60     		str	r3, [r7, #4]
 338:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 677              		.loc 1 338 0 discriminator 2
 678 0078 FB7D     		ldrb	r3, [r7, #23]
 679 007a 03F10103 		add	r3, r3, #1
 680 007e FB75     		strb	r3, [r7, #23]
 681              	.L21:
 338:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 682              		.loc 1 338 0 is_stmt 0 discriminator 1
 683 0080 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 684 0082 022B     		cmp	r3, #2
 685 0084 E1D9     		bls	.L22
 342:src/stm32f4_discovery_lis302dl.c ****       }
 343:src/stm32f4_discovery_lis302dl.c ****       break;
 686              		.loc 1 343 0 is_stmt 1
 687 0086 23E0     		b	.L17
 688              	.L20:
 344:src/stm32f4_discovery_lis302dl.c ****     /* FS bit = 1 ==> Sensitivity typical value = 72milligals/digit*/ 
 345:src/stm32f4_discovery_lis302dl.c ****     case 0x20:
 346:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 689              		.loc 1 346 0
 690 0088 4FF00003 		mov	r3, #0
 691 008c FB75     		strb	r3, [r7, #23]
 692 008e 1AE0     		b	.L24
 693              	.L25:
 347:src/stm32f4_discovery_lis302dl.c ****       {
 348:src/stm32f4_discovery_lis302dl.c ****         *out =(int32_t)(LIS302DL_SENSITIVITY_9_2G * (int8_t)buffer[2*i]);
 694              		.loc 1 348 0 discriminator 2
 695 0090 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 696 0092 4FEA4303 		lsl	r3, r3, #1
 697 0096 07F11802 		add	r2, r7, #24
 698 009a D318     		adds	r3, r2, r3
 699 009c 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 700 00a0 DBB2     		uxtb	r3, r3
 701 00a2 5AB2     		sxtb	r2, r3
 702 00a4 1346     		mov	r3, r2
 703 00a6 4FEAC303 		lsl	r3, r3, #3
 704 00aa 9B18     		adds	r3, r3, r2
 705 00ac 4FEAC303 		lsl	r3, r3, #3
 706 00b0 1A46     		mov	r2, r3
 707 00b2 7B68     		ldr	r3, [r7, #4]
 708 00b4 1A60     		str	r2, [r3, #0]
 349:src/stm32f4_discovery_lis302dl.c ****         out++;
 709              		.loc 1 349 0 discriminator 2
 710 00b6 7B68     		ldr	r3, [r7, #4]
 711 00b8 03F10403 		add	r3, r3, #4
 712 00bc 7B60     		str	r3, [r7, #4]
 346:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 713              		.loc 1 346 0 discriminator 2
 714 00be FB7D     		ldrb	r3, [r7, #23]
 715 00c0 03F10103 		add	r3, r3, #1
 716 00c4 FB75     		strb	r3, [r7, #23]
 717              	.L24:
 346:src/stm32f4_discovery_lis302dl.c ****       for(i=0; i<0x03; i++)
 718              		.loc 1 346 0 is_stmt 0 discriminator 1
 719 00c6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 720 00c8 022B     		cmp	r3, #2
 721 00ca E1D9     		bls	.L25
 350:src/stm32f4_discovery_lis302dl.c ****       }         
 351:src/stm32f4_discovery_lis302dl.c ****       break;
 722              		.loc 1 351 0 is_stmt 1
 723 00cc 00E0     		b	.L17
 724              	.L26:
 352:src/stm32f4_discovery_lis302dl.c ****     default:
 353:src/stm32f4_discovery_lis302dl.c ****       break;
 725              		.loc 1 353 0
 726 00ce 00BF     		nop
 727              	.L17:
 354:src/stm32f4_discovery_lis302dl.c ****     }
 355:src/stm32f4_discovery_lis302dl.c ****  }
 728              		.loc 1 355 0
 729 00d0 07F11807 		add	r7, r7, #24
 730 00d4 BD46     		mov	sp, r7
 731 00d6 80BD     		pop	{r7, pc}
 732              		.cfi_endproc
 733              	.LFE119:
 735              		.section	.text.LIS302DL_LowLevel_Init,"ax",%progbits
 736              		.align	2
 737              		.thumb
 738              		.thumb_func
 740              	LIS302DL_LowLevel_Init:
 741              	.LFB120:
 356:src/stm32f4_discovery_lis302dl.c **** 
 357:src/stm32f4_discovery_lis302dl.c **** /**
 358:src/stm32f4_discovery_lis302dl.c ****   * @brief  Initializes the low level interface used to drive the LIS302DL
 359:src/stm32f4_discovery_lis302dl.c ****   * @param  None
 360:src/stm32f4_discovery_lis302dl.c ****   * @retval None
 361:src/stm32f4_discovery_lis302dl.c ****   */
 362:src/stm32f4_discovery_lis302dl.c **** static void LIS302DL_LowLevel_Init(void)
 363:src/stm32f4_discovery_lis302dl.c **** {
 742              		.loc 1 363 0
 743              		.cfi_startproc
 744              		@ args = 0, pretend = 0, frame = 32
 745              		@ frame_needed = 1, uses_anonymous_args = 0
 746 0000 80B5     		push	{r7, lr}
 747              	.LCFI30:
 748              		.cfi_def_cfa_offset 8
 749              		.cfi_offset 14, -4
 750              		.cfi_offset 7, -8
 751 0002 88B0     		sub	sp, sp, #32
 752              	.LCFI31:
 753              		.cfi_def_cfa_offset 40
 754 0004 00AF     		add	r7, sp, #0
 755              	.LCFI32:
 756              		.cfi_def_cfa_register 7
 364:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitTypeDef GPIO_InitStructure;
 365:src/stm32f4_discovery_lis302dl.c ****   SPI_InitTypeDef  SPI_InitStructure;
 366:src/stm32f4_discovery_lis302dl.c **** 
 367:src/stm32f4_discovery_lis302dl.c ****   /* Enable the SPI periph */
 368:src/stm32f4_discovery_lis302dl.c ****   RCC_APB2PeriphClockCmd(LIS302DL_SPI_CLK, ENABLE);
 757              		.loc 1 368 0
 758 0006 4FF48050 		mov	r0, #4096
 759 000a 4FF00101 		mov	r1, #1
 760 000e FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 369:src/stm32f4_discovery_lis302dl.c **** 
 370:src/stm32f4_discovery_lis302dl.c ****   /* Enable SCK, MOSI and MISO GPIO clocks */
 371:src/stm32f4_discovery_lis302dl.c ****   RCC_AHB1PeriphClockCmd(LIS302DL_SPI_SCK_GPIO_CLK | LIS302DL_SPI_MISO_GPIO_CLK | LIS302DL_SPI_MOSI
 761              		.loc 1 371 0
 762 0012 4FF00100 		mov	r0, #1
 763 0016 4FF00101 		mov	r1, #1
 764 001a FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 372:src/stm32f4_discovery_lis302dl.c **** 
 373:src/stm32f4_discovery_lis302dl.c ****   /* Enable CS  GPIO clock */
 374:src/stm32f4_discovery_lis302dl.c ****   RCC_AHB1PeriphClockCmd(LIS302DL_SPI_CS_GPIO_CLK, ENABLE);
 765              		.loc 1 374 0
 766 001e 4FF01000 		mov	r0, #16
 767 0022 4FF00101 		mov	r1, #1
 768 0026 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 375:src/stm32f4_discovery_lis302dl.c ****   
 376:src/stm32f4_discovery_lis302dl.c ****   /* Enable INT1 GPIO clock */
 377:src/stm32f4_discovery_lis302dl.c ****   RCC_AHB1PeriphClockCmd(LIS302DL_SPI_INT1_GPIO_CLK, ENABLE);
 769              		.loc 1 377 0
 770 002a 4FF01000 		mov	r0, #16
 771 002e 4FF00101 		mov	r1, #1
 772 0032 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 378:src/stm32f4_discovery_lis302dl.c ****   
 379:src/stm32f4_discovery_lis302dl.c ****   /* Enable INT2 GPIO clock */
 380:src/stm32f4_discovery_lis302dl.c ****   RCC_AHB1PeriphClockCmd(LIS302DL_SPI_INT2_GPIO_CLK, ENABLE);
 773              		.loc 1 380 0
 774 0036 4FF01000 		mov	r0, #16
 775 003a 4FF00101 		mov	r1, #1
 776 003e FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 381:src/stm32f4_discovery_lis302dl.c **** 
 382:src/stm32f4_discovery_lis302dl.c ****   GPIO_PinAFConfig(LIS302DL_SPI_SCK_GPIO_PORT, LIS302DL_SPI_SCK_SOURCE, LIS302DL_SPI_SCK_AF);
 777              		.loc 1 382 0
 778 0042 4FF00000 		mov	r0, #0
 779 0046 C4F20200 		movt	r0, 16386
 780 004a 4FF00501 		mov	r1, #5
 781 004e 4FF00502 		mov	r2, #5
 782 0052 FFF7FEFF 		bl	GPIO_PinAFConfig
 383:src/stm32f4_discovery_lis302dl.c ****   GPIO_PinAFConfig(LIS302DL_SPI_MISO_GPIO_PORT, LIS302DL_SPI_MISO_SOURCE, LIS302DL_SPI_MISO_AF);
 783              		.loc 1 383 0
 784 0056 4FF00000 		mov	r0, #0
 785 005a C4F20200 		movt	r0, 16386
 786 005e 4FF00601 		mov	r1, #6
 787 0062 4FF00502 		mov	r2, #5
 788 0066 FFF7FEFF 		bl	GPIO_PinAFConfig
 384:src/stm32f4_discovery_lis302dl.c ****   GPIO_PinAFConfig(LIS302DL_SPI_MOSI_GPIO_PORT, LIS302DL_SPI_MOSI_SOURCE, LIS302DL_SPI_MOSI_AF);
 789              		.loc 1 384 0
 790 006a 4FF00000 		mov	r0, #0
 791 006e C4F20200 		movt	r0, 16386
 792 0072 4FF00701 		mov	r1, #7
 793 0076 4FF00502 		mov	r2, #5
 794 007a FFF7FEFF 		bl	GPIO_PinAFConfig
 385:src/stm32f4_discovery_lis302dl.c **** 
 386:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 795              		.loc 1 386 0
 796 007e 4FF00203 		mov	r3, #2
 797 0082 3B77     		strb	r3, [r7, #28]
 387:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 798              		.loc 1 387 0
 799 0084 4FF00003 		mov	r3, #0
 800 0088 BB77     		strb	r3, [r7, #30]
 388:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_DOWN;
 801              		.loc 1 388 0
 802 008a 4FF00203 		mov	r3, #2
 803 008e FB77     		strb	r3, [r7, #31]
 389:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 804              		.loc 1 389 0
 805 0090 4FF00203 		mov	r3, #2
 806 0094 7B77     		strb	r3, [r7, #29]
 390:src/stm32f4_discovery_lis302dl.c **** 
 391:src/stm32f4_discovery_lis302dl.c ****   /* SPI SCK pin configuration */
 392:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin = LIS302DL_SPI_SCK_PIN;
 807              		.loc 1 392 0
 808 0096 4FF02003 		mov	r3, #32
 809 009a BB61     		str	r3, [r7, #24]
 393:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_SCK_GPIO_PORT, &GPIO_InitStructure);
 810              		.loc 1 393 0
 811 009c 4FF00000 		mov	r0, #0
 812 00a0 C4F20200 		movt	r0, 16386
 813 00a4 07F11803 		add	r3, r7, #24
 814 00a8 1946     		mov	r1, r3
 815 00aa FFF7FEFF 		bl	GPIO_Init
 394:src/stm32f4_discovery_lis302dl.c **** 
 395:src/stm32f4_discovery_lis302dl.c ****   /* SPI  MOSI pin configuration */
 396:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin =  LIS302DL_SPI_MOSI_PIN;
 816              		.loc 1 396 0
 817 00ae 4FF08003 		mov	r3, #128
 818 00b2 BB61     		str	r3, [r7, #24]
 397:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_MOSI_GPIO_PORT, &GPIO_InitStructure);
 819              		.loc 1 397 0
 820 00b4 4FF00000 		mov	r0, #0
 821 00b8 C4F20200 		movt	r0, 16386
 822 00bc 07F11803 		add	r3, r7, #24
 823 00c0 1946     		mov	r1, r3
 824 00c2 FFF7FEFF 		bl	GPIO_Init
 398:src/stm32f4_discovery_lis302dl.c **** 
 399:src/stm32f4_discovery_lis302dl.c ****   /* SPI MISO pin configuration */
 400:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin = LIS302DL_SPI_MISO_PIN;
 825              		.loc 1 400 0
 826 00c6 4FF04003 		mov	r3, #64
 827 00ca BB61     		str	r3, [r7, #24]
 401:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_MISO_GPIO_PORT, &GPIO_InitStructure);
 828              		.loc 1 401 0
 829 00cc 4FF00000 		mov	r0, #0
 830 00d0 C4F20200 		movt	r0, 16386
 831 00d4 07F11803 		add	r3, r7, #24
 832 00d8 1946     		mov	r1, r3
 833 00da FFF7FEFF 		bl	GPIO_Init
 402:src/stm32f4_discovery_lis302dl.c **** 
 403:src/stm32f4_discovery_lis302dl.c ****   /* SPI configuration -------------------------------------------------------*/
 404:src/stm32f4_discovery_lis302dl.c ****   SPI_I2S_DeInit(LIS302DL_SPI);
 834              		.loc 1 404 0
 835 00de 4FF44050 		mov	r0, #12288
 836 00e2 C4F20100 		movt	r0, 16385
 837 00e6 FFF7FEFF 		bl	SPI_I2S_DeInit
 405:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 838              		.loc 1 405 0
 839 00ea 4FF00003 		mov	r3, #0
 840 00ee BB80     		strh	r3, [r7, #4]	@ movhi
 406:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_DataSize = SPI_DataSize_8b;
 841              		.loc 1 406 0
 842 00f0 4FF00003 		mov	r3, #0
 843 00f4 3B81     		strh	r3, [r7, #8]	@ movhi
 407:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_CPOL = SPI_CPOL_Low;
 844              		.loc 1 407 0
 845 00f6 4FF00003 		mov	r3, #0
 846 00fa 7B81     		strh	r3, [r7, #10]	@ movhi
 408:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_CPHA = SPI_CPHA_1Edge;
 847              		.loc 1 408 0
 848 00fc 4FF00003 		mov	r3, #0
 849 0100 BB81     		strh	r3, [r7, #12]	@ movhi
 409:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_NSS = SPI_NSS_Soft;
 850              		.loc 1 409 0
 851 0102 4FF40073 		mov	r3, #512
 852 0106 FB81     		strh	r3, [r7, #14]	@ movhi
 410:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_4;
 853              		.loc 1 410 0
 854 0108 4FF00803 		mov	r3, #8
 855 010c 3B82     		strh	r3, [r7, #16]	@ movhi
 411:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_FirstBit = SPI_FirstBit_MSB;
 856              		.loc 1 411 0
 857 010e 4FF00003 		mov	r3, #0
 858 0112 7B82     		strh	r3, [r7, #18]	@ movhi
 412:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_CRCPolynomial = 7;
 859              		.loc 1 412 0
 860 0114 4FF00703 		mov	r3, #7
 861 0118 BB82     		strh	r3, [r7, #20]	@ movhi
 413:src/stm32f4_discovery_lis302dl.c ****   SPI_InitStructure.SPI_Mode = SPI_Mode_Master;
 862              		.loc 1 413 0
 863 011a 4FF48273 		mov	r3, #260
 864 011e FB80     		strh	r3, [r7, #6]	@ movhi
 414:src/stm32f4_discovery_lis302dl.c ****   SPI_Init(LIS302DL_SPI, &SPI_InitStructure);
 865              		.loc 1 414 0
 866 0120 4FF44050 		mov	r0, #12288
 867 0124 C4F20100 		movt	r0, 16385
 868 0128 07F10403 		add	r3, r7, #4
 869 012c 1946     		mov	r1, r3
 870 012e FFF7FEFF 		bl	SPI_Init
 415:src/stm32f4_discovery_lis302dl.c **** 
 416:src/stm32f4_discovery_lis302dl.c ****   /* Enable SPI1  */
 417:src/stm32f4_discovery_lis302dl.c ****   SPI_Cmd(LIS302DL_SPI, ENABLE);
 871              		.loc 1 417 0
 872 0132 4FF44050 		mov	r0, #12288
 873 0136 C4F20100 		movt	r0, 16385
 874 013a 4FF00101 		mov	r1, #1
 875 013e FFF7FEFF 		bl	SPI_Cmd
 418:src/stm32f4_discovery_lis302dl.c **** 
 419:src/stm32f4_discovery_lis302dl.c ****   /* Configure GPIO PIN for Lis Chip select */
 420:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin = LIS302DL_SPI_CS_PIN;
 876              		.loc 1 420 0
 877 0142 4FF00803 		mov	r3, #8
 878 0146 BB61     		str	r3, [r7, #24]
 421:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
 879              		.loc 1 421 0
 880 0148 4FF00103 		mov	r3, #1
 881 014c 3B77     		strb	r3, [r7, #28]
 422:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 882              		.loc 1 422 0
 883 014e 4FF00003 		mov	r3, #0
 884 0152 BB77     		strb	r3, [r7, #30]
 423:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 885              		.loc 1 423 0
 886 0154 4FF00203 		mov	r3, #2
 887 0158 7B77     		strb	r3, [r7, #29]
 424:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_CS_GPIO_PORT, &GPIO_InitStructure);
 888              		.loc 1 424 0
 889 015a 4FF48050 		mov	r0, #4096
 890 015e C4F20200 		movt	r0, 16386
 891 0162 07F11803 		add	r3, r7, #24
 892 0166 1946     		mov	r1, r3
 893 0168 FFF7FEFF 		bl	GPIO_Init
 425:src/stm32f4_discovery_lis302dl.c **** 
 426:src/stm32f4_discovery_lis302dl.c ****   /* Deselect : Chip Select high */
 427:src/stm32f4_discovery_lis302dl.c ****   GPIO_SetBits(LIS302DL_SPI_CS_GPIO_PORT, LIS302DL_SPI_CS_PIN);
 894              		.loc 1 427 0
 895 016c 4FF48050 		mov	r0, #4096
 896 0170 C4F20200 		movt	r0, 16386
 897 0174 4FF00801 		mov	r1, #8
 898 0178 FFF7FEFF 		bl	GPIO_SetBits
 428:src/stm32f4_discovery_lis302dl.c ****   
 429:src/stm32f4_discovery_lis302dl.c ****   /* Configure GPIO PINs to detect Interrupts */
 430:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin = LIS302DL_SPI_INT1_PIN;
 899              		.loc 1 430 0
 900 017c 4FF00103 		mov	r3, #1
 901 0180 BB61     		str	r3, [r7, #24]
 431:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN;
 902              		.loc 1 431 0
 903 0182 4FF00003 		mov	r3, #0
 904 0186 3B77     		strb	r3, [r7, #28]
 432:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 905              		.loc 1 432 0
 906 0188 4FF00003 		mov	r3, #0
 907 018c BB77     		strb	r3, [r7, #30]
 433:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 908              		.loc 1 433 0
 909 018e 4FF00203 		mov	r3, #2
 910 0192 7B77     		strb	r3, [r7, #29]
 434:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
 911              		.loc 1 434 0
 912 0194 4FF00003 		mov	r3, #0
 913 0198 FB77     		strb	r3, [r7, #31]
 435:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_INT1_GPIO_PORT, &GPIO_InitStructure);
 914              		.loc 1 435 0
 915 019a 4FF48050 		mov	r0, #4096
 916 019e C4F20200 		movt	r0, 16386
 917 01a2 07F11803 		add	r3, r7, #24
 918 01a6 1946     		mov	r1, r3
 919 01a8 FFF7FEFF 		bl	GPIO_Init
 436:src/stm32f4_discovery_lis302dl.c ****   
 437:src/stm32f4_discovery_lis302dl.c ****   GPIO_InitStructure.GPIO_Pin = LIS302DL_SPI_INT2_PIN;
 920              		.loc 1 437 0
 921 01ac 4FF00203 		mov	r3, #2
 922 01b0 BB61     		str	r3, [r7, #24]
 438:src/stm32f4_discovery_lis302dl.c ****   GPIO_Init(LIS302DL_SPI_INT2_GPIO_PORT, &GPIO_InitStructure);
 923              		.loc 1 438 0
 924 01b2 4FF48050 		mov	r0, #4096
 925 01b6 C4F20200 		movt	r0, 16386
 926 01ba 07F11803 		add	r3, r7, #24
 927 01be 1946     		mov	r1, r3
 928 01c0 FFF7FEFF 		bl	GPIO_Init
 439:src/stm32f4_discovery_lis302dl.c **** }
 929              		.loc 1 439 0
 930 01c4 07F12007 		add	r7, r7, #32
 931 01c8 BD46     		mov	sp, r7
 932 01ca 80BD     		pop	{r7, pc}
 933              		.cfi_endproc
 934              	.LFE120:
 936              		.section	.text.LIS302DL_SendByte,"ax",%progbits
 937              		.align	2
 938              		.thumb
 939              		.thumb_func
 941              	LIS302DL_SendByte:
 942              	.LFB121:
 440:src/stm32f4_discovery_lis302dl.c **** 
 441:src/stm32f4_discovery_lis302dl.c **** /**
 442:src/stm32f4_discovery_lis302dl.c ****   * @brief  Sends a Byte through the SPI interface and return the Byte received 
 443:src/stm32f4_discovery_lis302dl.c ****   *         from the SPI bus.
 444:src/stm32f4_discovery_lis302dl.c ****   * @param  Byte : Byte send.
 445:src/stm32f4_discovery_lis302dl.c ****   * @retval The received byte value
 446:src/stm32f4_discovery_lis302dl.c ****   */
 447:src/stm32f4_discovery_lis302dl.c **** static uint8_t LIS302DL_SendByte(uint8_t byte)
 448:src/stm32f4_discovery_lis302dl.c **** {
 943              		.loc 1 448 0
 944              		.cfi_startproc
 945              		@ args = 0, pretend = 0, frame = 8
 946              		@ frame_needed = 1, uses_anonymous_args = 0
 947 0000 80B5     		push	{r7, lr}
 948              	.LCFI33:
 949              		.cfi_def_cfa_offset 8
 950              		.cfi_offset 14, -4
 951              		.cfi_offset 7, -8
 952 0002 82B0     		sub	sp, sp, #8
 953              	.LCFI34:
 954              		.cfi_def_cfa_offset 16
 955 0004 00AF     		add	r7, sp, #0
 956              	.LCFI35:
 957              		.cfi_def_cfa_register 7
 958 0006 0346     		mov	r3, r0
 959 0008 FB71     		strb	r3, [r7, #7]
 449:src/stm32f4_discovery_lis302dl.c ****   /* Loop while DR register in not emplty */
 450:src/stm32f4_discovery_lis302dl.c ****   LIS302DLTimeout = LIS302DL_FLAG_TIMEOUT;
 960              		.loc 1 450 0
 961 000a 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 962 000e C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 963 0012 4FF48052 		mov	r2, #4096
 964 0016 1A60     		str	r2, [r3, #0]
 451:src/stm32f4_discovery_lis302dl.c ****   while (SPI_I2S_GetFlagStatus(LIS302DL_SPI, SPI_I2S_FLAG_TXE) == RESET)
 965              		.loc 1 451 0
 966 0018 17E0     		b	.L29
 967              	.L31:
 452:src/stm32f4_discovery_lis302dl.c ****   {
 453:src/stm32f4_discovery_lis302dl.c ****     if((LIS302DLTimeout--) == 0) return LIS302DL_TIMEOUT_UserCallback();
 968              		.loc 1 453 0
 969 001a 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 970 001e C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 971 0022 1B68     		ldr	r3, [r3, #0]
 972 0024 002B     		cmp	r3, #0
 973 0026 14BF     		ite	ne
 974 0028 0022     		movne	r2, #0
 975 002a 0122     		moveq	r2, #1
 976 002c D2B2     		uxtb	r2, r2
 977 002e 03F1FF31 		add	r1, r3, #-1
 978 0032 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 979 0036 C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 980 003a 1960     		str	r1, [r3, #0]
 981 003c 002A     		cmp	r2, #0
 982 003e 04D0     		beq	.L29
 983              		.loc 1 453 0 is_stmt 0 discriminator 1
 984 0040 FFF7FEFF 		bl	LIS302DL_TIMEOUT_UserCallback
 985 0044 0346     		mov	r3, r0
 986 0046 DBB2     		uxtb	r3, r3
 987 0048 46E0     		b	.L30
 988              	.L29:
 451:src/stm32f4_discovery_lis302dl.c ****   while (SPI_I2S_GetFlagStatus(LIS302DL_SPI, SPI_I2S_FLAG_TXE) == RESET)
 989              		.loc 1 451 0 is_stmt 1 discriminator 1
 990 004a 4FF44050 		mov	r0, #12288
 991 004e C4F20100 		movt	r0, 16385
 992 0052 4FF00201 		mov	r1, #2
 993 0056 FFF7FEFF 		bl	SPI_I2S_GetFlagStatus
 994 005a 0346     		mov	r3, r0
 995 005c 002B     		cmp	r3, #0
 996 005e DCD0     		beq	.L31
 454:src/stm32f4_discovery_lis302dl.c ****   }
 455:src/stm32f4_discovery_lis302dl.c ****   
 456:src/stm32f4_discovery_lis302dl.c ****   /* Send a Byte through the SPI peripheral */
 457:src/stm32f4_discovery_lis302dl.c ****   SPI_I2S_SendData(LIS302DL_SPI, byte);
 997              		.loc 1 457 0
 998 0060 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 999 0062 9BB2     		uxth	r3, r3
 1000 0064 4FF44050 		mov	r0, #12288
 1001 0068 C4F20100 		movt	r0, 16385
 1002 006c 1946     		mov	r1, r3
 1003 006e FFF7FEFF 		bl	SPI_I2S_SendData
 458:src/stm32f4_discovery_lis302dl.c ****   
 459:src/stm32f4_discovery_lis302dl.c ****   /* Wait to receive a Byte */
 460:src/stm32f4_discovery_lis302dl.c ****   LIS302DLTimeout = LIS302DL_FLAG_TIMEOUT;
 1004              		.loc 1 460 0
 1005 0072 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 1006 0076 C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 1007 007a 4FF48052 		mov	r2, #4096
 1008 007e 1A60     		str	r2, [r3, #0]
 461:src/stm32f4_discovery_lis302dl.c ****   while (SPI_I2S_GetFlagStatus(LIS302DL_SPI, SPI_I2S_FLAG_RXNE) == RESET)
 1009              		.loc 1 461 0
 1010 0080 17E0     		b	.L32
 1011              	.L33:
 462:src/stm32f4_discovery_lis302dl.c ****   {
 463:src/stm32f4_discovery_lis302dl.c ****     if((LIS302DLTimeout--) == 0) return LIS302DL_TIMEOUT_UserCallback();
 1012              		.loc 1 463 0
 1013 0082 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 1014 0086 C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 1015 008a 1B68     		ldr	r3, [r3, #0]
 1016 008c 002B     		cmp	r3, #0
 1017 008e 14BF     		ite	ne
 1018 0090 0022     		movne	r2, #0
 1019 0092 0122     		moveq	r2, #1
 1020 0094 D2B2     		uxtb	r2, r2
 1021 0096 03F1FF31 		add	r1, r3, #-1
 1022 009a 40F20003 		movw	r3, #:lower16:LIS302DLTimeout
 1023 009e C0F20003 		movt	r3, #:upper16:LIS302DLTimeout
 1024 00a2 1960     		str	r1, [r3, #0]
 1025 00a4 002A     		cmp	r2, #0
 1026 00a6 04D0     		beq	.L32
 1027              		.loc 1 463 0 is_stmt 0 discriminator 1
 1028 00a8 FFF7FEFF 		bl	LIS302DL_TIMEOUT_UserCallback
 1029 00ac 0346     		mov	r3, r0
 1030 00ae DBB2     		uxtb	r3, r3
 1031 00b0 12E0     		b	.L30
 1032              	.L32:
 461:src/stm32f4_discovery_lis302dl.c ****   while (SPI_I2S_GetFlagStatus(LIS302DL_SPI, SPI_I2S_FLAG_RXNE) == RESET)
 1033              		.loc 1 461 0 is_stmt 1 discriminator 1
 1034 00b2 4FF44050 		mov	r0, #12288
 1035 00b6 C4F20100 		movt	r0, 16385
 1036 00ba 4FF00101 		mov	r1, #1
 1037 00be FFF7FEFF 		bl	SPI_I2S_GetFlagStatus
 1038 00c2 0346     		mov	r3, r0
 1039 00c4 002B     		cmp	r3, #0
 1040 00c6 DCD0     		beq	.L33
 464:src/stm32f4_discovery_lis302dl.c ****   }
 465:src/stm32f4_discovery_lis302dl.c ****   
 466:src/stm32f4_discovery_lis302dl.c ****   /* Return the Byte read from the SPI bus */
 467:src/stm32f4_discovery_lis302dl.c ****   return (uint8_t)SPI_I2S_ReceiveData(LIS302DL_SPI);
 1041              		.loc 1 467 0
 1042 00c8 4FF44050 		mov	r0, #12288
 1043 00cc C4F20100 		movt	r0, 16385
 1044 00d0 FFF7FEFF 		bl	SPI_I2S_ReceiveData
 1045 00d4 0346     		mov	r3, r0
 1046 00d6 DBB2     		uxtb	r3, r3
 1047              	.L30:
 468:src/stm32f4_discovery_lis302dl.c **** }
 1048              		.loc 1 468 0
 1049 00d8 1846     		mov	r0, r3
 1050 00da 07F10807 		add	r7, r7, #8
 1051 00de BD46     		mov	sp, r7
 1052 00e0 80BD     		pop	{r7, pc}
 1053              		.cfi_endproc
 1054              	.LFE121:
 1056 00e2 00BF     		.text
 1057              	.Letext0:
 1058              		.file 2 "/home/joyshu/tmp/usr/local/csl/arm-2012.03/bin/../lib/gcc/arm-none-eabi/4.6.3/../../../..
 1059              		.file 3 "libs/Device/STM32F4xx/Include/stm32f4xx.h"
 1060              		.file 4 "libs/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_gpio.h"
 1061              		.file 5 "libs/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_spi.h"
 1062              		.file 6 "src/stm32f4_discovery_lis302dl.h"
 1063              		.file 7 "libs/CMSIS/Include/core_cm4.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4_discovery_lis302dl.c
     /tmp/ccbvngAF.s:24     .data.LIS302DLTimeout:00000000 LIS302DLTimeout
     /tmp/ccbvngAF.s:21     .data.LIS302DLTimeout:00000000 $d
     /tmp/ccbvngAF.s:27     .text.LIS302DL_Init:00000000 $t
     /tmp/ccbvngAF.s:32     .text.LIS302DL_Init:00000000 LIS302DL_Init
     /tmp/ccbvngAF.s:740    .text.LIS302DL_LowLevel_Init:00000000 LIS302DL_LowLevel_Init
     /tmp/ccbvngAF.s:445    .text.LIS302DL_Write:00000000 LIS302DL_Write
     /tmp/ccbvngAF.s:96     .text.LIS302DL_FilterConfig:00000000 $t
     /tmp/ccbvngAF.s:101    .text.LIS302DL_FilterConfig:00000000 LIS302DL_FilterConfig
     /tmp/ccbvngAF.s:524    .text.LIS302DL_Read:00000000 LIS302DL_Read
     /tmp/ccbvngAF.s:166    .text.LIS302DL_InterruptConfig:00000000 $t
     /tmp/ccbvngAF.s:171    .text.LIS302DL_InterruptConfig:00000000 LIS302DL_InterruptConfig
     /tmp/ccbvngAF.s:228    .text.LIS302DL_LowpowerCmd:00000000 $t
     /tmp/ccbvngAF.s:233    .text.LIS302DL_LowpowerCmd:00000000 LIS302DL_LowpowerCmd
     /tmp/ccbvngAF.s:283    .text.LIS302DL_DataRateCmd:00000000 $t
     /tmp/ccbvngAF.s:288    .text.LIS302DL_DataRateCmd:00000000 LIS302DL_DataRateCmd
     /tmp/ccbvngAF.s:338    .text.LIS302DL_FullScaleCmd:00000000 $t
     /tmp/ccbvngAF.s:343    .text.LIS302DL_FullScaleCmd:00000000 LIS302DL_FullScaleCmd
     /tmp/ccbvngAF.s:393    .text.LIS302DL_RebootCmd:00000000 $t
     /tmp/ccbvngAF.s:398    .text.LIS302DL_RebootCmd:00000000 LIS302DL_RebootCmd
     /tmp/ccbvngAF.s:440    .text.LIS302DL_Write:00000000 $t
     /tmp/ccbvngAF.s:941    .text.LIS302DL_SendByte:00000000 LIS302DL_SendByte
     /tmp/ccbvngAF.s:519    .text.LIS302DL_Read:00000000 $t
     /tmp/ccbvngAF.s:606    .text.LIS302DL_ReadACC:00000000 $t
     /tmp/ccbvngAF.s:611    .text.LIS302DL_ReadACC:00000000 LIS302DL_ReadACC
     /tmp/ccbvngAF.s:736    .text.LIS302DL_LowLevel_Init:00000000 $t
     /tmp/ccbvngAF.s:937    .text.LIS302DL_SendByte:00000000 $t
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
GPIO_ResetBits
GPIO_SetBits
RCC_APB2PeriphClockCmd
RCC_AHB1PeriphClockCmd
GPIO_PinAFConfig
GPIO_Init
SPI_I2S_DeInit
SPI_Init
SPI_Cmd
LIS302DL_TIMEOUT_UserCallback
SPI_I2S_GetFlagStatus
SPI_I2S_SendData
SPI_I2S_ReceiveData
